<script>
    function run(personName) {
        return new Promise((resolve, reject) => {
            const time = Math.floor(Math.random() * 1.1);

            setTimeout(() => {
                if (time % 4 === 0) {
                    reject({ personName });
                } else {
                    resolve({ personName, time });
                }
            }, time);
        });
    }

    const printTime = ({ personName, time }) => console.log(`${personName}のタイムは${time}です。`);

    async function startRelay() {
        let result;

        try {
            result = await run("太郎");
            printTime(result);
            result = await run("次郎");
            printTime(result);
            result = await run("三郎");
            printTime(result);
        } catch ({ personName }) {
            console.error(`${personName}がこけました。レースやり直し!`);
        }
    }

    startRelay();
</script>